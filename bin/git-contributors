#!/usr/bin/env ruby
require 'optparse'
require_relative '../lib/git-contributors'

options = {
  format: GitContributors::FORMAT
}

OptionParser.new do |opts|
  opts.banner = "Usage: git contributors [folders] [options]"

  opts.on("-t", "--format=F", "Formatting string to use (default: #{options[:format].inspect}") do |v|
    options[:format] = v
  end
end.parse!

folders = ARGV.empty? ? ['.'] : ARGV
folders.each do |folder|
  gt = GitContributors.new('.')
  gt.print_contributors options
end
